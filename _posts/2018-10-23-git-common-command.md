---
layout: post
title: "å¸¸ç”¨çš„ Git å‘½ä»¤"
subtitle: "Common command of git"
author: "Rushan"
header-img: "img/post-bg-git.png"
header-mask: 0.4
tags:
  - Git
---

Gitçš„å››ä¸ªåŒºï¼š

- å·¥ä½œåŒº
- æš‚å­˜åŒº
- æœ¬åœ°ä»“åº“
- è¿œç¨‹ä»“åº“ï¼ˆè‡ªå·±çš„è¿œç¨‹ä»“åº“ï¼Œå…¬å¸çš„è¿œç¨‹ä»“åº“ï¼‰

## æ–°å»º/æ‹·è´é¡¹ç›®

å¦‚æœæ˜¯ä»é›¶å¼€å§‹ï¼Œæ–°å»ºé¡¹ç›®ï¼Œåˆå§‹åŒ–ï¼š

```bash
git init [project-name]
```

å¦‚æœæ˜¯å¼€å‘å·²æœ‰é¡¹ç›®ï¼Œå…ˆforkå…¬å¸çš„é¡¹ç›®ä½œä¸ºè‡ªå·±çš„è¿œç¨‹ä»“åº“ï¼Œå†æ‹·è´è‡ªå·±çš„è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°ï¼š

```bash
git clone [url]
```

## å…³è”è¿œç¨‹ä»“åº“

å…³è”æœ¬åœ°ä¸(è‡ªå·±çš„ã€å…¬å¸çš„)è¿œç¨‹ä»“åº“ï¼š

```bash
git remote add [shortname] [url]
```

- `shortname`ä¸ºè¿œç¨‹ä»“åº“æŒ‡å®šä¸€ä¸ªç®€å•çš„åå­—ï¼Œè‡ªå·±çš„è¿œç¨‹ä»“åº“ä¸€èˆ¬ç§°ä¸º`origin`ï¼Œå…¬å¸çš„å¯ä»¥ç§°ä¸º`work`
- `url` ï¼ˆè‡ªå·±çš„/å…¬å¸çš„ï¼‰è¿œç¨‹ä»“åº“é“¾æ¥ã€‚

æŸ¥çœ‹å·²å…³è”çš„è¿œç¨‹ä»“åº“ï¼š

```bash
git remote -v
```

## ä¿®æ”¹é¡¹ç›®

åœ¨å·¥ä½œåŒºä¿®æ”¹æ–‡ä»¶åï¼ŒæŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ï¼š

```bash
git status
```

è¿½è¸ªæ–‡ä»¶ï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºï¼š

```bash
// å·¥ä½œåŒº => æš‚å­˜åŒº
git add .
git add [file-name]
```

æäº¤æœ¬æ¬¡ä¿®æ”¹çš„ä¿¡æ¯åˆ°æœ¬åœ°ä»“åº“

```bash
// æš‚å­˜åŒº => æœ¬åœ°ä»“åº“
git commit -m "message"
```

æŸ¥çœ‹commitå†å²ï¼š

```bash
git log
```

## å…³äºåˆ†æ”¯

å…¬å¸ä¸­ï¼Œä¸€èˆ¬æœ‰3ä¸ªåŸºæœ¬åˆ†æ”¯ï¼š`dev`åˆ†æ”¯ï¼ˆç”¨äºå¼€å‘æµ‹è¯•ï¼‰ï¼Œ`test`åˆ†æ”¯ï¼ˆç”¨äºæµ‹è¯•ï¼‰ï¼Œ`master`åˆ†æ”¯ï¼ˆçº¿ä¸Šä»£ç ï¼‰ã€‚

æ¥åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå…ˆä»`master`åˆ‡å‡ºä¸€ä¸ªç‹¬ç«‹åˆ†æ”¯ï¼š

```bash
git checkout -b [feature-branch-name]
```

ä¿®æ”¹é¡¹ç›®ï¼Œè§ğŸ‘†ã€‚

å®Œæˆéœ€æ±‚å¼€å‘åï¼ŒæŠŠç‹¬ç«‹åˆ†æ”¯åˆå¹¶åˆ°`dev`åˆ†æ”¯ä¸Šï¼š

```bash
// åˆ‡æ¢åˆ†æ”¯
git checkout dev
// åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯
git merge [feature-branch-name]
```

æ¥ç€æ‹‰å–æ›´æ–°å…¬å¸è¿œç¨‹çš„`dev`åˆ†æ”¯ä»£ç ï¼š

```bash
// è¿œç¨‹ä»“åº“ => å·¥ä½œåŒº
git pull work dev
```

æ‹‰å–åï¼Œå¦‚æœ‰å†²çªï¼Œè§£å†³å†²çªï¼Œç„¶å`push`åˆ°è‡ªå·±çš„è¿œç¨‹ä»“åº“ï¼š

```bash
// æœ¬åœ°ä»“åº“ => è¿œç¨‹ä»“åº“
git push origin dev
```

ç„¶åå‘å…¬å¸çš„è¿œç¨‹ä»“åº“æPull Requestï¼Œè€å¤§å®¡å®Œä»£ç ï¼Œæ²¡é—®é¢˜å°±å¯ä»¥åˆå¹¶åˆ°å…¬å¸çš„`dev`åˆ†æ”¯ã€‚

ç­‰éœ€æ±‚ä¸Šçº¿åï¼ˆmergeåˆ°å…¬å¸çš„masteråˆ†æ”¯ï¼‰ï¼Œå°±å¯ä»¥åˆ é™¤æœ¬åœ°åŠè‡ªå·±è¿œç¨‹ä»“åº“é‡Œè¿™ä¸ªéœ€æ±‚çš„åˆ†æ”¯ï¼š

```bash
// åˆ é™¤æœ¬åœ°åˆ†æ”¯
git branch -D [feature-branch-name]
// åˆ é™¤è¿œç¨‹åˆ†æ”¯
git push origin --delete [feature-branch-name]
```

## åŒæ­¥è¿œç¨‹æ›´æ–°

### è·å–è¿œç¨‹æ–°åˆ†æ”¯

æœ‰æ—¶å…¬å¸ä»“åº“æ–°å¢äº†åˆ†æ”¯ï¼Œç”¨`git branch -a`æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ä¹ŸæŸ¥çœ‹ä¸åˆ°ï¼Œéœ€è¦`fetch`ä¸€ä¸‹ï¼ŒæŠŠæ–°åˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°ï¼ˆä¸‹è½½çš„å†…å®¹ä¸è‡ªå·±çš„æœ¬åœ°ä»“åº“äº’ä¸å¹²æ‰°ï¼‰ï¼š

```bash
// è¿œç¨‹ä»“åº“æ–°åˆ†æ”¯ => æœ¬åœ°
git fetch work [new-branch]
```

è¿™æ—¶ç”¨`git branch -a`å°±èƒ½çœ‹åˆ°æ–°åˆ†æ”¯äº†ã€‚ä½†æ˜¯æ–°åˆ†æ”¯è¿˜ä¸åœ¨å·¥ä½œåŒºã€‚

åœ¨è¿œç¨‹æ–°åˆ†æ”¯`work/[new-branch]`çš„åŸºç¡€ä¸Šï¼Œåœ¨å·¥ä½œåŒºåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼š

```bash
git checkout -b [workspace-new-branch] work/[new-branch]
```

æ–°åˆ†æ”¯è¦æ¨é€è‡ªå·±çš„è¿œç¨‹ä»“åº“çš„è¯ï¼Œåˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼Œå…³è”è‡ªå·±çš„è¿œç¨‹ä»“åº“ã€‚

### è·å–è¿œç¨‹å·²æœ‰åˆ†æ”¯çš„æ›´æ–°

å¦‚æœå…¬å¸çš„ä»“åº“æ²¡æœ‰æ–°å¢æ–°åˆ†æ”¯ï¼Œè€Œæ˜¯åœ¨åŸæœ‰åˆ†æ”¯ä¸Šæœ‰äº†æ›´æ–°ã€‚åŒæ ·ï¼Œå…ˆ`fetch`åˆ°æœ¬åœ°ï¼ˆä»¥è·å–`master`åˆ†æ”¯çš„æ›´æ–°ä¸ºä¾‹ï¼‰ï¼š

```bash
// è¿œç¨‹ä»“åº“master => æœ¬åœ°
git fetch work/master
```

æŸ¥çœ‹è‡ªå·±çš„ä»“åº“ä¸å…¬å¸çš„ä»“åº“æœ‰å“ªäº›ä¸åŒï¼š

```bash
git diff master work/master
```

ç»ˆç«¯ä¼šè¿›å…¥`Vim`ç¯å¢ƒï¼ŒæŒ‰ä¸€ä¸‹ `q`é”®ï¼Œé€€å‡º`Vim`ç¯å¢ƒã€‚

å¯¹æ¯”å®Œï¼ŒæŠŠå†…å®¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼š

```bash
// åˆå¹¶workä»“åº“çš„masteråˆ†æ”¯
git checkout master
git merge work/master
```